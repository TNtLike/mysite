(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29653830"],{"2b27":function(e,t,r){(function(){var t={expires:"1d",path:"; path=/"},r={install:function(e){e.prototype.$cookies=this,e.cookies=this},config:function(e,r){e&&(t.expires=e),r&&(t.path="; path="+r)},get:function(e){var t=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(t&&"{"===t.substring(0,1)&&"}"===t.substring(t.length-1,t.length))try{t=JSON.parse(t)}catch(r){return t}return t},set:function(e,r,n,o,a,s){if(!e)throw new Error("cookie name is not find in first argument");if(/^(?:expires|max\-age|path|domain|secure)$/i.test(e))throw new Error("cookie key name illegality ,Cannot be set to ['expires','max-age','path','domain','secure']\t","current key name: "+e);r&&r.constructor===Object&&(r=JSON.stringify(r));var i="";if(n=void 0===n?t.expires:n,n&&0!=n)switch(n.constructor){case Number:i=n===1/0||-1===n?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:if(/^(?:\d{1,}(y|m|d|h|min|s))$/i.test(n)){var u=n.replace(/^(\d{1,})(?:y|m|d|h|min|s)$/i,"$1");switch(n.replace(/^(?:\d{1,})(y|m|d|h|min|s)$/i,"$1").toLowerCase()){case"m":i="; max-age="+2592e3*+u;break;case"d":i="; max-age="+86400*+u;break;case"h":i="; max-age="+3600*+u;break;case"min":i="; max-age="+60*+u;break;case"s":i="; max-age="+u;break;case"y":i="; max-age="+31104e3*+u;break;default:new Error("unknown exception of 'set operation'")}}else i="; expires="+n;break;case Date:i="; expires="+n.toUTCString();break}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(r)+i+(a?"; domain="+a:"")+(o?"; path="+o:t.path)+(s?"; secure":""),this},remove:function(e,r,n){return!(!e||!this.isKey(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(r?"; path="+r:t.path),this)},isKey:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){if(!document.cookie)return[];for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e}};e.exports=r,"undefined"!==typeof window&&(window.$cookies=r)})()},3558:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"loginItem"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8,offset:8}},[r("div",{staticClass:"item"},[r("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"个人用户",name:"1"}}),r("el-tab-pane",{attrs:{label:"企业用户",name:"2"}})],1),"1"==e.activeName?r("div",[r("el-form",{ref:"userForm",staticClass:"userForm",attrs:{model:e.userForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{type:"text"},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password"},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1),r("el-form-item",{attrs:{label:"验证码",prop:"idCode"}},[r("el-input",{attrs:{type:"text"},model:{value:e.userForm.idCode,callback:function(t){e.$set(e.userForm,"idCode",t)},expression:"userForm.idCode"}}),r("div",{staticClass:"verify-box",on:{click:e.refreshCode}},[r("identifyItem",{attrs:{identifyCode:e.identifyCode}})],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.psnLogin("userForm")}}},[e._v("提交")]),r("el-button",{on:{click:e.resetForm}},[e._v("注册")])],1)],1)],1):r("div",[r("el-form",{ref:"userForm",staticClass:"userForm",attrs:{model:e.userForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{type:"text"},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password"},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1),r("el-form-item",{attrs:{label:"验证码",prop:"idCode"}},[r("el-input",{attrs:{type:"text"},model:{value:e.userForm.idCode,callback:function(t){e.$set(e.userForm,"idCode",t)},expression:"userForm.idCode"}}),r("div",{staticClass:"verify-box",on:{click:e.refreshCode}},[r("identifyItem",{attrs:{identifyCode:e.identifyCode}})],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.entLogin("userForm")}}},[e._v("提交")]),r("el-button",{on:{click:e.resetForm}},[e._v("注册")])],1)],1)],1)],1)])],1)],1)},o=[],a=r("2b27"),s=r.n(a),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"s-canvas"},[r("canvas",{attrs:{id:"s-canvas",width:e.contentWidth,height:e.contentHeight}})])},u=[],d=(r("6c7b"),r("c5f6"),{name:"SIdentify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:25},fontSizeMax:{type:Number,default:35},backgroundColorMin:{type:Number,default:200},backgroundColorMax:{type:Number,default:220},dotColorMin:{type:Number,default:60},dotColorMax:{type:Number,default:120},contentWidth:{type:Number,default:116},contentHeight:{type:Number,default:38}},methods:{randomNum:function(e,t){return Math.floor(Math.random()*(t-e)+e)},randomColor:function(e,t){var r=this.randomNum(e,t),n=this.randomNum(e,t),o=this.randomNum(e,t);return"rgb("+r+","+n+","+o+")"},drawPic:function(){var e=document.getElementById("s-canvas"),t=e.getContext("2d");t.textBaseline="bottom",t.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),t.fillRect(0,0,this.contentWidth,this.contentHeight);for(var r=0;r<this.identifyCode.length;r++)this.drawText(t,this.identifyCode[r],r);this.drawLine(t),this.drawDot(t)},drawText:function(e,t,r){e.fillStyle=this.randomColor(50,160),e.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var n=(r+1)*(this.contentWidth/(this.identifyCode.length+1)),o=this.randomNum(this.fontSizeMax,this.contentHeight-5),a=this.randomNum(-30,30);e.translate(n,o),e.rotate(a*Math.PI/180),e.fillText(t,0,0),e.rotate(-a*Math.PI/180),e.translate(-n,-o)},drawLine:function(e){for(var t=0;t<4;t++)e.strokeStyle=this.randomColor(100,200),e.beginPath(),e.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),e.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),e.stroke()},drawDot:function(e){for(var t=0;t<30;t++)e.fillStyle=this.randomColor(0,255),e.beginPath(),e.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),e.fill()}},watch:{identifyCode:function(){this.drawPic()}},mounted:function(){this.drawPic()}}),c=d,m=r("2877"),l=Object(m["a"])(c,i,u,!1,null,null,null);l.options.__file="idfendify.vue";var f=l.exports,p={components:{identifyItem:f},name:"loginItem",data:function(){var e=this,t=function(t,r,n){""===r?n(new Error("请输入验证码")):r!==e.identifyCode?n(new Error("验证码不符，请重新输入!")):n()};return{identifyCode:"",activeName:"1",userForm:{username:"",password:"",idCode:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:18,message:"长度在 6 到 18 个字符",trigger:"blur"}],idCode:[{validator:t,trigger:"blur"}]}}},created:function(){s.a.remove("entid"),s.a.remove("psnid"),this.makeCode(4)},mounted:function(){s.a.get("username")&&this.$router.push("/")},watch:{activeName:function(){this.identifyCode="",this.makeCode(4)}},methods:{randomNum:function(e,t){var r=Math.floor(Math.random()*(t-e)+e);return r},refreshCode:function(){this.identifyCode="",this.makeCode(this.identifyCode,4)},makeCode:function(e){for(var t=0;t<e;t++)this.identifyCode+=this.randomNum(0,9)},psnLogin:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.axios.post("psnLogin",{username:t.userForm.username,password:t.userForm.password}).then(function(e){2==e.data.status?t.$message({message:"该用户不存在",type:"warning"}):0==e.data.status?t.$message({message:"密码错误",type:"error"}):1==e.data.status&&(t.$message({message:"登录成功",type:"success"}),s.a.set("psnid",e.data.msg),s.a.set("username",t.userForm.username),t.$router.push("/"))})})},entLogin:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.axios.post("entLogin",{username:t.userForm.username,password:t.userForm.password}).then(function(e){2==e.data.status?t.$message({message:"该用户不存在",type:"warning"}):0==e.data.status?t.$message({message:"密码错误",type:"error"}):1==e.data.status&&(t.$message({message:"登录成功",type:"success"}),s.a.set("entid",e.data.msg),s.a.set("username",t.userForm.username),t.$router.push("/"))})})},resetForm:function(){this.$router.push("/signup")},getPassword:function(){}}},h=p,g=(r("a4a5"),Object(m["a"])(h,n,o,!1,null,"6482bf82",null));g.options.__file="LoginItem.vue";t["default"]=g.exports},"36bd":function(e,t,r){"use strict";var n=r("4bf8"),o=r("77f1"),a=r("9def");e.exports=function(e){var t=n(this),r=a(t.length),s=arguments.length,i=o(s>1?arguments[1]:void 0,r),u=s>2?arguments[2]:void 0,d=void 0===u?r:o(u,r);while(d>i)t[i++]=e;return t}},"6c7b":function(e,t,r){var n=r("5ca1");n(n.P,"Array",{fill:r("36bd")}),r("9c6c")("fill")},a4a5:function(e,t,r){"use strict";var n=r("c61d"),o=r.n(n);o.a},aa77:function(e,t,r){var n=r("5ca1"),o=r("be13"),a=r("79e5"),s=r("fdef"),i="["+s+"]",u="​",d=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),m=function(e,t,r){var o={},i=a(function(){return!!s[e]()||u[e]()!=u}),d=o[e]=i?t(l):s[e];r&&(o[r]=d),n(n.P+n.F*i,"String",o)},l=m.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(d,"")),2&t&&(e=e.replace(c,"")),e};e.exports=m},c5f6:function(e,t,r){"use strict";var n=r("7726"),o=r("69a8"),a=r("2d95"),s=r("5dbc"),i=r("6a99"),u=r("79e5"),d=r("9093").f,c=r("11e9").f,m=r("86cc").f,l=r("aa77").trim,f="Number",p=n[f],h=p,g=p.prototype,b=a(r("2aeb")(g))==f,v="trim"in String.prototype,y=function(e){var t=i(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():l(t,3);var r,n,o,a=t.charCodeAt(0);if(43===a||45===a){if(r=t.charCodeAt(2),88===r||120===r)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+t}for(var s,u=t.slice(2),d=0,c=u.length;d<c;d++)if(s=u.charCodeAt(d),s<48||s>o)return NaN;return parseInt(u,n)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof p&&(b?u(function(){g.valueOf.call(r)}):a(r)!=f)?s(new h(y(t)),r,p):y(t)};for(var C,x=r("9e1e")?d(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)o(h,C=x[w])&&!o(p,C)&&m(p,C,c(h,C));p.prototype=g,g.constructor=p,r("2aba")(n,f,p)}},c61d:function(e,t,r){},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-29653830.ee78fb6d.js.map